機能要件仕様書
匿名掲示板Webサイト
1. システム概要
本システムは、ユーザー登録不要で匿名で利用できる電子掲示板Webサイトです。5ch（旧2ちゃんねる）をモデルとし、スレッド形式での情報交換を可能にします。
2. 基本方針

会員登録不要で誰でも閲覧・投稿可能
完全匿名での利用を実現
シンプルで軽量な画面設計
レスポンシブ対応（PC・スマートフォン）

3. 機能要件
3.1 板（カテゴリ）管理機能
3.1.1 板一覧表示

トップページに全ての板をカテゴリ別に表示
各板の名前、説明文、現在のスレッド数を表示
板のカテゴリ分類（例：ニュース、趣味、生活、技術など）

3.1.2 板の閲覧

板内のスレッド一覧を表示
スレッドタイトル、レス数、最終更新日時を表示
勢い順、作成日時順、レス数順でのソート機能
ページネーション機能（1ページあたり50スレッド程度）

3.2 スレッド機能
3.2.1 スレッド作成

板ごとにスレッドを新規作成可能
入力項目：スレッドタイトル、本文
名前欄は「名無しさん」などのデフォルト名を自動設定（変更も可能）
投稿時の入力検証（タイトル必須、文字数制限など）

3.2.2 スレッド閲覧

スレッド内の全レスを時系列順に表示
レス番号の自動採番
投稿日時の表示
ID表示機能（同一スレッド内での識別用）
アンカー機能（>>1 などでレス参照）
全レス表示と範囲指定表示（1-100など）

3.2.3 スレッドの状態管理

レス数上限（例：1000レス）到達後は書き込み不可
DAT落ち機能（一定期間更新がないスレッドの自動アーカイブ）

3.3 レス（返信）機能
3.3.1 レス投稿

スレッド内に返信を投稿可能
入力項目：名前（任意）、メール欄（任意）、本文（必須）
投稿時のID生成（日付とIPアドレスのハッシュ値など）
連続投稿規制（同一IPから短時間での連続投稿を制限）

3.3.2 レス表示

レス番号、名前、ID、投稿日時、本文を表示
アンカーのハイライト表示とポップアップ機能
URLの自動リンク化
改行の適切な表示

3.4 検索機能
3.4.1 スレッド検索

キーワードによるスレッドタイトル検索
板を指定しての検索
全板横断検索

3.4.2 レス内検索

スレッド内のレス本文検索
検索結果のハイライト表示

3.5 表示機能
3.5.1 レイアウト

シンプルなテキストベースのデザイン
軽量で高速な表示
PC版とスマートフォン版の自動切り替え

3.5.2 ナビゲーション

パンくずリスト（トップ > 板名 > スレッドタイトル）
各ページへの戻るリンク
ページトップへ戻るボタン

3.6 管理機能
3.6.1 投稿管理

不適切な投稿の削除機能（管理者用）
投稿者のIPアドレス記録
アクセス制限機能（特定IPのブロック）

3.6.2 板・スレッド管理

板の作成・編集・削除（管理者用）
スレッドの削除・移動（管理者用）
DAT落ち基準の設定

3.7 セキュリティ・スパム対策
3.7.1 投稿制限

同一IPからの連続投稿規制（例：30秒間隔）
同一内容の連続投稿検知
文字数制限（最小・最大）

3.7.2 スパム対策

NGワードフィルタリング
URLの投稿数制限
CAPTCHAの実装検討

4. 非機能要件
4.1 性能要件

ページ表示速度：3秒以内
同時アクセス：1000ユーザーまで対応
レスポンス時間：1秒以内

4.2 可用性

稼働率：99%以上
定期バックアップの実施

4.3 セキュリティ

SQLインジェクション対策
XSS（クロスサイトスクリプティング）対策
CSRF対策

5. データ仕様
5.1 主要データ項目
板テーブル

板ID、板名、説明文、カテゴリ、表示順

スレッドテーブル

スレッドID、板ID、タイトル、作成日時、最終更新日時、レス数、状態

レステーブル

レスID、スレッドID、レス番号、名前、メール、本文、投稿日時、投稿者ID、IPアドレス（ハッシュ化）

6. 画面一覧

トップページ（板一覧）
板ページ（スレッド一覧）
スレッド表示ページ
スレッド作成ページ
検索結果ページ
管理画面（管理者用）