<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code プロジェクト構成 完全ガイド</title>
    <style>
        :root {
            --primary: #d97706;
            --primary-light: #fbbf24;
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --bg-code: #0d1117;
            --text: #e2e8f0;
            --text-muted: #94a3b8;
            --border: #334155;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif;
            background: var(--bg-dark);
            color: var  (--text);
            line-height: 1.8;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            text-align: center;
            padding: 50px 20px;
            background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-dark) 100%);
            border-bottom: 3px solid var(--primary);
        }

        header h1 {
            font-size: 2.5em;
            color: var(--primary);
            margin-bottom: 10px;
        }

        header p {
            color: var(--text-muted);
            font-size: 1.1em;
        }

        .badge {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-top: 15px;
        }

        /* Navigation */
        nav {
            background: var(--bg-card);
            padding: 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--border);
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        nav a {
            color: var(--text);
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 6px;
            background: var(--bg-dark);
            font-size: 0.9em;
            transition: all 0.3s;
        }

        nav a:hover {
            background: var(--primary);
            color: white;
        }

        /* Sections */
        section {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 30px;
            margin: 25px 0;
            border: 1px solid var(--border);
        }

        h2 {
            color: var(--primary);
            font-size: 1.6em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
        }

        h3 {
            color: var(--primary-light);
            font-size: 1.2em;
            margin: 25px 0 15px;
        }

        /* Analogy Box */
        .analogy-box {
            background: linear-gradient(135deg, #1e3a5f 0%, #1e293b 100%);
            border-left: 4px solid var(--info);
            padding: 20px;
            border-radius: 0 8px 8px 0;
            margin: 20px 0;
        }

        .analogy-box h4 {
            color: var(--info);
            margin-bottom: 10px;
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 14px;
            text-align: left;
            border: 1px solid var(--border);
        }

        th {
            background: var(--bg-dark);
            color: var(--primary);
            font-weight: 600;
        }

        tr:hover {
            background: rgba(217, 119, 6, 0.1);
        }

        /* Diagram */
        .diagram {
            background: var(--bg-code);
            padding: 25px;
            border-radius: 10px;
            font-family: 'Consolas', 'Monaco', monospace;
            overflow-x: auto;
            margin: 20px 0;
            border: 1px solid var(--border);
        }

        .diagram-title {
            color: var(--primary-light);
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        /* Tree Structure */
        .tree {
            color: #22d3ee;
        }

        .tree-folder {
            color: var(--primary-light);
        }

        .tree-file {
            color: #a5b4fc;
        }

        .tree-comment {
            color: var(--text-muted);
        }

        .git-yes {
            color: var(--success);
        }

        .git-no {
            color: var(--danger);
        }

        /* Code Block */
        pre {
            background: var(--bg-code);
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            margin: 15px 0;
            border: 1px solid var(--border);
        }

        code {
            background: var(--bg-code);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #22d3ee;
        }

        /* Comparison Cards */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background: var(--bg-dark);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid var(--border);
        }

        .card h4 {
            color: var(--primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
        }

        .card ul {
            list-style: none;
        }

        .card li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .card li::before {
            content: ">";
            position: absolute;
            left: 0;
            color: var(--primary);
        }

        /* Status Indicators */
        .status {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 4px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .status-allow {
            background: rgba(34, 197, 94, 0.2);
            color: var(--success);
        }

        .status-ask {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }

        .status-deny {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }

        /* Hierarchy Visualization */
        .hierarchy {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin: 20px 0;
        }

        .hierarchy-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: 8px;
            margin-left: 0;
        }

        .hierarchy-item.level-1 {
            background: rgba(217, 119, 6, 0.3);
            border-left: 4px solid var(--primary);
        }

        .hierarchy-item.level-2 {
            background: rgba(217, 119, 6, 0.2);
            border-left: 4px solid var(--primary-light);
            margin-left: 30px;
        }

        .hierarchy-item.level-3 {
            background: rgba(217, 119, 6, 0.1);
            border-left: 4px solid #fcd34d;
            margin-left: 60px;
        }

        .hierarchy-item.level-4 {
            background: rgba(217, 119, 6, 0.05);
            border-left: 4px solid #fef3c7;
            margin-left: 90px;
        }

        .arrow-down {
            text-align: center;
            color: var(--primary);
            font-size: 1.5em;
            margin: 5px 0;
        }

        /* FAQ */
        .faq-item {
            background: var(--bg-dark);
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--primary);
        }

        .faq-item h4 {
            color: var(--primary-light);
            margin-bottom: 10px;
        }

        /* Checklist */
        .checklist {
            list-style: none;
        }

        .checklist li {
            padding: 10px 0;
            padding-left: 35px;
            position: relative;
        }

        .checklist li::before {
            content: "[ ]";
            position: absolute;
            left: 0;
            color: var(--primary);
            font-family: monospace;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px;
            background: var(--bg-card);
            margin-top: 40px;
            border-top: 1px solid var(--border);
        }

        footer a {
            color: var(--primary);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        .links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .links-grid a {
            display: block;
            padding: 12px;
            background: var(--bg-dark);
            border-radius: 6px;
            color: var(--text);
            text-decoration: none;
            border: 1px solid var(--border);
            transition: all 0.3s;
        }

        .links-grid a:hover {
            border-color: var(--primary);
            background: rgba(217, 119, 6, 0.1);
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            nav ul {
                flex-direction: column;
                align-items: center;
            }

            .hierarchy-item.level-2,
            .hierarchy-item.level-3,
            .hierarchy-item.level-4 {
                margin-left: 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Claude Code プロジェクト構成<br>完全ガイド</h1>
        <p>GitHub管理を前提とした設計</p>
        <span class="badge">文系ビジネスマン対応</span>
    </header>

    <nav>
        <ul>
            <li><a href="#overview">全体像</a></li>
            <li><a href="#structure">親子・独立関係</a></li>
            <li><a href="#comparison">使い分け</a></li>
            <li><a href="#folder">フォルダ構成</a></li>
            <li><a href="#git">Git管理</a></li>
            <li><a href="#templates">テンプレート</a></li>
            <li><a href="#security">セキュリティ</a></li>
            <li><a href="#faq">FAQ</a></li>
        </ul>
    </nav>

    <div class="container">

        <!-- Part 1: Overview -->
        <section id="overview">
            <h2>第1部：全体像を理解する</h2>

            <div class="analogy-box">
                <h4>会社組織に例えて理解しよう</h4>
                <p>Claude Codeの構成は、会社組織に例えると理解しやすくなります。<br>
                グローバル設定＝本社ルール、プロジェクト設定＝部署ルール、と考えてください。</p>
            </div>

            <table>
                <tr>
                    <th>Claude Code の概念</th>
                    <th>会社に例えると</th>
                    <th>役割</th>
                </tr>
                <tr>
                    <td><code>~/.claude/</code><br>グローバル設定</td>
                    <td>本社のルール</td>
                    <td>全社員・全部署に適用される規則</td>
                </tr>
                <tr>
                    <td><code>.claude/</code><br>プロジェクト設定</td>
                    <td>部署のルール</td>
                    <td>その部署だけに適用される規則</td>
                </tr>
                <tr>
                    <td><code>CLAUDE.md</code></td>
                    <td>業務マニュアル</td>
                    <td>「どう仕事をするか」の指針</td>
                </tr>
                <tr>
                    <td><code>settings.json</code></td>
                    <td>権限規定</td>
                    <td>「何ができて、何ができないか」</td>
                </tr>
                <tr>
                    <td><strong>Commands</strong></td>
                    <td>定型業務の手順書</td>
                    <td>「この書類を出して」と言われたらやること</td>
                </tr>
                <tr>
                    <td><strong>Skills</strong></td>
                    <td>専門知識データベース</td>
                    <td>必要な時に自動で参照される知識</td>
                </tr>
                <tr>
                    <td><strong>Subagents</strong></td>
                    <td>派遣される専門家</td>
                    <td>特定の仕事を任せる独立したスタッフ</td>
                </tr>
                <tr>
                    <td><strong>Plugins</strong></td>
                    <td>外部委託パッケージ</td>
                    <td>専門機能をまとめた外部サービス</td>
                </tr>
            </table>
        </section>

        <!-- Part 2: Structure -->
        <section id="structure">
            <h2>親子関係と独立関係</h2>

            <h3>階層構造（親子関係）を持つもの</h3>
            <p>上位の設定が下位に継承され、より具体的な設定が優先されます。</p>

            <div class="hierarchy">
                <div class="hierarchy-item level-1">
                    <strong>~/.claude/CLAUDE.md</strong>&nbsp;&nbsp;← 全プロジェクトに適用（本社方針）
                </div>
                <div class="arrow-down">↓ 継承</div>
                <div class="hierarchy-item level-2">
                    <strong>./CLAUDE.md</strong>&nbsp;&nbsp;← プロジェクトに適用（部署方針）
                </div>
                <div class="arrow-down">↓ 継承</div>
                <div class="hierarchy-item level-3">
                    <strong>./frontend/CLAUDE.md</strong>&nbsp;&nbsp;← サブディレクトリに適用（課の方針）
                </div>
                <div class="arrow-down">↓ 上書き</div>
                <div class="hierarchy-item level-4">
                    <strong>./CLAUDE.local.md</strong>&nbsp;&nbsp;← 個人設定（個人の好み）
                </div>
            </div>

            <div class="analogy-box">
                <h4>ポイント</h4>
                <p><code>settings.json</code>も同様の階層構造を持ちます。<br>
                矛盾がある場合は、より具体的（下位）な設定が優先されます。</p>
            </div>

            <h3>独立構造を持つもの</h3>
            <p>Commands、Skills、Subagentsはそれぞれ独立して機能しますが、連携も可能です。</p>

            <div class="diagram">
                <div class="diagram-title">独立した3つの機能</div>
<pre style="background: transparent; border: none; padding: 0; margin: 0;">
┌───────────────┐    ┌───────────────┐    ┌───────────────┐
│   Commands    │    │    Skills     │    │   Subagents   │
│   (手動)      │    │   (自動)      │    │   (独立)      │
│               │    │               │    │               │
│ /command で   │    │ 会話内容から  │    │ 重い作業を    │
│ 明示的に実行  │    │ 自動で適用    │    │ 別ワーカーに  │
└───────────────┘    └───────────────┘    └───────────────┘
        │                    │                    │
        └────────────────────┴────────────────────┘
                             ↓
                    【連携可能】
         SubagentsはSkillsやCommandsを利用できる
</pre>
            </div>

            <div class="diagram">
                <div class="diagram-title">Plugins = すべてをパッケージ化</div>
<pre style="background: transparent; border: none; padding: 0; margin: 0;">
<span class="tree-folder">my-plugin/</span>
<span class="tree">├──</span> <span class="tree-folder">commands/</span>    <span class="tree-comment">← Commands を含む</span>
<span class="tree">├──</span> <span class="tree-folder">skills/</span>      <span class="tree-comment">← Skills を含む</span>
<span class="tree">├──</span> <span class="tree-folder">agents/</span>      <span class="tree-comment">← Subagents を含む</span>
<span class="tree">└──</span> <span class="tree-folder">hooks/</span>       <span class="tree-comment">← 自動処理を含む</span>

→ Pluginは「機能セット」として独立して配布・共有できる
</pre>
            </div>
        </section>

        <!-- Part 3: Comparison -->
        <section id="comparison">
            <h2>Commands / Skills / Subagents の使い分け</h2>

            <table>
                <tr>
                    <th>要素</th>
                    <th>呼び出し方</th>
                    <th>用途</th>
                    <th>会社で例えると</th>
                </tr>
                <tr>
                    <td><strong>Commands</strong></td>
                    <td><code>/command名</code> で手動</td>
                    <td>繰り返し作業の自動化</td>
                    <td>「この書類を作って」という依頼</td>
                </tr>
                <tr>
                    <td><strong>Skills</strong></td>
                    <td>会話内容から自動</td>
                    <td>専門知識の提供</td>
                    <td>必要な時に開く業務マニュアル</td>
                </tr>
                <tr>
                    <td><strong>Subagents</strong></td>
                    <td>Claudeが自動判断</td>
                    <td>独立した重い作業</td>
                    <td>別部署に仕事を依頼する</td>
                </tr>
            </table>

            <div class="card-grid">
                <div class="card">
                    <h4>Commands を使う場面</h4>
                    <ul>
                        <li>毎回同じ手順で実行したい作業</li>
                        <li>「/deploy」「/test」のように明示的に実行</li>
                        <li>短時間で完了する単発タスク</li>
                    </ul>
                    <p style="margin-top:15px; color: var(--text-muted);">
                        例: <code>/fix-issue 1234</code> → Issue #1234を修正
                    </p>
                </div>
                <div class="card">
                    <h4>Skills を使う場面</h4>
                    <ul>
                        <li>特定の技術知識が必要な時に自動適用</li>
                        <li>複数プロジェクトで再利用したい知識</li>
                        <li>会話の文脈で自動的に呼び出される</li>
                    </ul>
                    <p style="margin-top:15px; color: var(--text-muted);">
                        例: 「Docker」と言うとDocker知識が自動適用
                    </p>
                </div>
                <div class="card">
                    <h4>Subagents を使う場面</h4>
                    <ul>
                        <li>時間のかかる独立した作業</li>
                        <li>メインの会話を邪魔したくない重い処理</li>
                        <li>並列で複数の作業を同時実行</li>
                    </ul>
                    <p style="margin-top:15px; color: var(--text-muted);">
                        例: 大量のファイル分析を別スタッフに任せる
                    </p>
                </div>
            </div>
        </section>

        <!-- Part 4: Folder Structure -->
        <section id="folder">
            <h2>推奨フォルダ構成</h2>

            <h3>グローバル設定（個人のPC内 - Git管理外）</h3>
            <div class="diagram">
<pre style="background: transparent; border: none; padding: 0; margin: 0;">
<span class="tree-folder">~/.claude/</span>                          <span class="tree-comment">← あなたのPC全体に適用</span>
<span class="tree">├──</span> <span class="tree-file">CLAUDE.md</span>                       <span class="tree-comment"># 全プロジェクト共通ルール</span>
<span class="tree">├──</span> <span class="tree-file">settings.json</span>                   <span class="tree-comment"># 全プロジェクト共通の権限</span>
<span class="tree">├──</span> <span class="tree-folder">commands/</span>                       <span class="tree-comment"># 個人用コマンド</span>
<span class="tree">│   └──</span> <span class="tree-file">my-shortcuts.md</span>
<span class="tree">├──</span> <span class="tree-folder">skills/</span>                         <span class="tree-comment"># 個人用スキル</span>
<span class="tree">│   └──</span> <span class="tree-folder">my-coding-style/</span>
<span class="tree">│       └──</span> <span class="tree-file">SKILL.md</span>
<span class="tree">└──</span> <span class="tree-folder">agents/</span>                         <span class="tree-comment"># 個人用エージェント</span>
    <span class="tree">└──</span> <span class="tree-file">my-reviewer.md</span>
</pre>
            </div>

            <h3>プロジェクト設定（Git管理対象）</h3>
            <div class="diagram">
<pre style="background: transparent; border: none; padding: 0; margin: 0;">
<span class="tree-folder">your-project/</span>                       <span class="tree-comment">← プロジェクトルート</span>
<span class="tree">├──</span> <span class="tree-folder">.claude/</span>                        <span class="tree-comment"># Claude Code設定フォルダ</span>
<span class="tree">│   ├──</span> <span class="tree-file">settings.json</span>              <span class="git-yes">[Git管理]</span> <span class="tree-comment">チーム共有の権限</span>
<span class="tree">│   ├──</span> <span class="tree-file">settings.local.json</span>        <span class="git-no">[Git除外]</span> <span class="tree-comment">個人の権限設定</span>
<span class="tree">│   ├──</span> <span class="tree-folder">commands/</span>                  <span class="git-yes">[Git管理]</span> <span class="tree-comment">プロジェクト用コマンド</span>
<span class="tree">│   │   ├──</span> <span class="tree-file">deploy.md</span>              <span class="tree-comment"># /project:deploy</span>
<span class="tree">│   │   └──</span> <span class="tree-file">fix-issue.md</span>           <span class="tree-comment"># /project:fix-issue</span>
<span class="tree">│   ├──</span> <span class="tree-folder">skills/</span>                    <span class="git-yes">[Git管理]</span> <span class="tree-comment">プロジェクト用スキル</span>
<span class="tree">│   │   └──</span> <span class="tree-folder">api-design/</span>
<span class="tree">│   │       └──</span> <span class="tree-file">SKILL.md</span>
<span class="tree">│   └──</span> <span class="tree-folder">agents/</span>                    <span class="git-yes">[Git管理]</span> <span class="tree-comment">プロジェクト用エージェント</span>
<span class="tree">│       └──</span> <span class="tree-file">code-reviewer.md</span>
<span class="tree">├──</span> <span class="tree-file">CLAUDE.md</span>                      <span class="git-yes">[Git管理]</span> <span class="tree-comment">プロジェクトの主要ルール</span>
<span class="tree">├──</span> <span class="tree-file">CLAUDE.local.md</span>                <span class="git-no">[Git除外]</span> <span class="tree-comment">個人用の追加ルール</span>
<span class="tree">├──</span> <span class="tree-file">.mcp.json</span>                      <span class="git-yes">[Git管理]</span> <span class="tree-comment">MCP外部連携設定</span>
<span class="tree">└──</span> <span class="tree-file">.gitignore</span>
</pre>
            </div>
        </section>

        <!-- Part 5: Git Management -->
        <section id="git">
            <h2>Git管理の方針</h2>

            <div class="card-grid">
                <div class="card" style="border-left: 4px solid var(--success);">
                    <h4 style="color: var(--success);">Git管理する（チーム共有）</h4>
                    <ul>
                        <li><code>.claude/settings.json</code><br>チームの権限ルール</li>
                        <li><code>.claude/commands/</code><br>チーム共通コマンド</li>
                        <li><code>.claude/skills/</code><br>チーム共通の専門知識</li>
                        <li><code>.claude/agents/</code><br>チーム共通エージェント</li>
                        <li><code>CLAUDE.md</code><br>プロジェクトのルール</li>
                        <li><code>.mcp.json</code><br>外部連携設定</li>
                    </ul>
                </div>
                <div class="card" style="border-left: 4px solid var(--danger);">
                    <h4 style="color: var(--danger);">Git管理しない（個人・機密）</h4>
                    <ul>
                        <li><code>.claude/settings.local.json</code><br>個人の権限設定</li>
                        <li><code>CLAUDE.local.md</code><br>個人のルール追加</li>
                        <li><code>~/.claude/</code> 配下全て<br>グローバル設定</li>
                        <li><code>.env</code> ファイル<br>機密情報</li>
                    </ul>
                </div>
            </div>

            <h3>必須の .gitignore 設定</h3>
            <pre># Claude Code - 個人設定（チームに共有しない）
.claude/settings.local.json
CLAUDE.local.md

# 機密情報
.env
.env.*
*.pem
*.key
credentials.json</pre>
        </section>

        <!-- Part 6: Templates -->
        <section id="templates">
            <h2>各ファイルの書き方テンプレート</h2>

            <h3>CLAUDE.md（プロジェクトルール）</h3>
            <div class="analogy-box">
                <h4>ポイント</h4>
                <p>100〜200行以内に収める。詳細は <code>docs/</code> フォルダに分離して <code>@docs/xxx.md</code> で参照。</p>
            </div>
            <pre># プロジェクト概要
このプロジェクトは〇〇のためのWebアプリケーションです。

## コーディング規約
- TypeScriptを使用
- 関数名はcamelCase
- コメントは日本語

## フォルダ構造
- src/: ソースコード
- tests/: テストコード
- docs/: ドキュメント

## 開発フロー
1. featureブランチを作成
2. 実装・テスト
3. PRを作成
4. レビュー後マージ

## よく使うコマンド
- npm run dev: 開発サーバー起動
- npm run test: テスト実行</pre>

            <h3>settings.json（権限設定）</h3>
            <div class="analogy-box">
                <h4>ルール適用順序</h4>
                <p><span class="status status-deny">deny</span> → <span class="status status-allow">allow</span> → <span class="status status-ask">ask</span>（denyが最優先）</p>
            </div>
            <pre>{
  "permissions": {
    "allow": [
      "Read", "Write", "Edit", "Glob", "Grep",
      "Bash(npm:*)", "Bash(git:*)", "Bash(pnpm:*)"
    ],
    "ask": [
      "Bash(git push:*)",
      "Bash(docker:*)"
    ],
    "deny": [
      "Read(**/.env)",
      "Read(**/*.pem)",
      "Bash(sudo:*)",
      "Bash(rm -rf:*)",
      "Bash(curl:*)"
    ]
  }
}</pre>

            <h3>Command ファイル例</h3>
            <pre>---
name: deploy
description: 本番環境へのデプロイを実行
---

# デプロイ手順

以下の手順でデプロイを実行してください：

1. テストを実行して全てパスすることを確認
2. ビルドを実行
3. デプロイスクリプトを実行

引数: $ARGUMENTS</pre>

            <h3>Skill ファイル例</h3>
            <pre>---
name: api-design
description: REST API設計のベストプラクティス
triggers:
  - API
  - REST
  - エンドポイント
---

# API設計ガイドライン

## 命名規則
- リソース名は複数形（users, products）
- ケバブケースを使用（user-profiles）

## HTTPメソッド
- GET: 取得
- POST: 作成
- PUT: 全体更新
- DELETE: 削除</pre>

            <h3>Subagent ファイル例</h3>
            <pre>---
name: code-reviewer
description: コードレビューを実行する専門エージェント
tools:
  - Read
  - Grep
  - Glob
model: sonnet
---

あなたはシニアエンジニアとしてコードレビューを行います。

## レビュー観点
1. 可読性: 変数名は適切か
2. 保守性: 将来の変更に対応しやすいか
3. セキュリティ: 脆弱性はないか
4. パフォーマンス: 非効率な処理はないか</pre>
        </section>

        <!-- Part 7: Security -->
        <section id="security">
            <h2>セキュリティガイドライン</h2>

            <div class="analogy-box">
                <h4>最小権限の原則</h4>
                <p>「Claude Codeには、優秀だが入社したての新人インターンと同じ権限を与える」<br>
                必要最小限の権限だけ与え、重要な操作は確認を求める設定にしましょう。</p>
            </div>

            <table>
                <tr>
                    <th>カテゴリ</th>
                    <th>設定</th>
                    <th>理由</th>
                </tr>
                <tr>
                    <td><span class="status status-deny">絶対にdeny</span></td>
                    <td><code>.env</code> ファイルの読み取り</td>
                    <td>APIキーなど機密情報の漏洩防止</td>
                </tr>
                <tr>
                    <td><span class="status status-deny">絶対にdeny</span></td>
                    <td><code>sudo</code> コマンド</td>
                    <td>システム全体への影響を防止</td>
                </tr>
                <tr>
                    <td><span class="status status-deny">絶対にdeny</span></td>
                    <td><code>curl</code>, <code>wget</code></td>
                    <td>意図しない外部通信を防止</td>
                </tr>
                <tr>
                    <td><span class="status status-ask">確認後許可(ask)</span></td>
                    <td><code>git push</code></td>
                    <td>意図しないコードプッシュを防止</td>
                </tr>
                <tr>
                    <td><span class="status status-ask">確認後許可(ask)</span></td>
                    <td><code>docker run</code></td>
                    <td>コンテナ起動は確認してから</td>
                </tr>
                <tr>
                    <td><span class="status status-allow">許可(allow)</span></td>
                    <td>ファイル読み書き編集</td>
                    <td>基本的な開発作業に必要</td>
                </tr>
                <tr>
                    <td><span class="status status-allow">許可(allow)</span></td>
                    <td><code>git status</code>, <code>git diff</code></td>
                    <td>参照系は安全</td>
                </tr>
            </table>
        </section>

        <!-- Part 8: FAQ -->
        <section id="faq">
            <h2>よくある質問（FAQ）</h2>

            <div class="faq-item">
                <h4>Q1: グローバル設定とプロジェクト設定が矛盾したらどうなる？</h4>
                <p><strong>A</strong>: より具体的な設定（プロジェクト）が優先されます。</p>
                <pre style="margin-top:10px">グローバル: 「コメントは英語で」
プロジェクト: 「コメントは日本語で」
→ プロジェクトの「日本語」が適用される</pre>
            </div>

            <div class="faq-item">
                <h4>Q2: SkillsとSubagentsの違いがわからない</h4>
                <p><strong>A</strong>:</p>
                <ul style="margin-top:10px; margin-left:20px;">
                    <li><strong>Skills</strong> = 知識・ノウハウ（本を読むようなもの）</li>
                    <li><strong>Subagents</strong> = 実際に作業する人（別の社員に仕事を頼む）</li>
                </ul>
                <pre style="margin-top:10px">「Dockerのベストプラクティスを教えて」→ Skills
「この50ファイルを全部レビューして」→ Subagents</pre>
            </div>

            <div class="faq-item">
                <h4>Q3: CLAUDE.mdが長くなりすぎた場合は？</h4>
                <p><strong>A</strong>: 100〜200行を超えたら分割しましょう。</p>
                <pre style="margin-top:10px">CLAUDE.md          ← 概要・重要事項のみ（100行以内）
docs/coding.md     ← 詳細なコーディング規約
docs/workflow.md   ← 詳細なワークフロー

CLAUDE.md内で参照: @docs/coding.md</pre>
            </div>

            <div class="faq-item">
                <h4>Q4: チームで使う時、何をGit管理すべき？</h4>
                <p><strong>A</strong>: 「チームで共有すべきもの」だけGit管理。個人設定は除外。</p>
                <ul style="margin-top:10px; margin-left:20px;">
                    <li><span class="git-yes">Git管理</span>: <code>.claude/settings.json</code>, <code>CLAUDE.md</code>, <code>.claude/commands/</code></li>
                    <li><span class="git-no">Git除外</span>: <code>settings.local.json</code>, <code>CLAUDE.local.md</code>, <code>.env</code></li>
                </ul>
            </div>
        </section>

        <!-- Checklist -->
        <section>
            <h2>プロジェクト開始チェックリスト</h2>
            <ul class="checklist">
                <li><code>.claude/</code> フォルダを作成</li>
                <li><code>CLAUDE.md</code> を作成（プロジェクト概要・規約）</li>
                <li><code>.claude/settings.json</code> を作成（権限設定）</li>
                <li><code>.gitignore</code> に個人設定ファイルを追加</li>
                <li>チームメンバーに構成を共有</li>
            </ul>
        </section>

        <!-- Links -->
        <section>
            <h2>参考リンク</h2>
            <div class="links-grid">
                <a href="https://code.claude.com/docs" target="_blank">Claude Code 公式ドキュメント</a>
                <a href="https://claude.com/blog/using-claude-md-files" target="_blank">CLAUDE.md の使い方（公式）</a>
                <a href="https://www.anthropic.com/engineering/claude-code-best-practices" target="_blank">ベストプラクティス（Anthropic）</a>
                <a href="https://www.youngleaders.tech/p/claude-skills-commands-subagents-plugins" target="_blank">Skills vs Commands vs Subagents</a>
                <a href="https://code.claude.com/docs/en/settings" target="_blank">設定ガイド</a>
                <a href="https://www.backslash.security/blog/claude-code-security-best-practices" target="_blank">セキュリティベストプラクティス</a>
            </div>
        </section>

    </div>

    <footer>
        <p>Claude Code プロジェクト構成 完全ガイド</p>
        <p>作成日: 2026-01-12</p>
    </footer>
</body>
</html>
